proc main
	i32.load r0 1
	i32.load r1 2

	i32.sub sp 4 ; allocate i32
	i32.write sp r0

	i32.sub sp 4 ; allocate i32
	i32.write sp r1

	i32.load r0 3
	i32.load r1 4

	i32.read r1 sp
	i32.add sp 4 ; free i32

	i32.read r0 sp
	i32.add sp 4 ; free i32

	halt
end